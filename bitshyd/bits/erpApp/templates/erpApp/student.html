{% extends "erpApp/base1.html" %}
{% load crispy_forms_tags %}
{%block func1%}
<ul>
    <a href="{% url 'student' 1 %}" class="list-group-item">Enroll in  a Course</a>
    <a href="{% url 'student' 2 %}" class="list-group-item">Drop Courses</a>
    <a href="{% url 'student' 3 %}" class="list-group-item">View Scores</a>
    <a href="{% url 'student' 4 %}" class="list-group-item">Enroll as TA</a>
    <a href="{% url 'student' 6 %}" class="list-group-item">Update Details</a>
    <a href="{% url 'student' 5 %}" class="list-group-item">Logout</a>
</ul>
{%endblock%}
{% block content %}
<div class="col-md-12">


    <!-- Enroll -->
    {%ifequal id "1" %}
    <h3>Available Courses :</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Name</th>
                <th>Number</th>
                <th>Level</th>
                <th>Credit</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for course in avl %}
            <tr>
                <td name="cid"> {{ course.courseid }}</td>
                <td> {{ course.coursename }}</td>
                <td> {{ course.coursenumber }}</td>
                <td> {{course.level}}</td>
                <td>{{ course.credit}}</td>
                <td><button class="btn btn-success"><a href="{%url 'students' id course.courseid %}" style="color:#fff;">Enroll</a></button></td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
    <hr />
    <h3>Current :</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Name</th>
                <th>Number</th>
                <th>Level</th>
                <th>Credit</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td name="cid"> {{ course.courseid }}</td>
                <td> {{ course.coursename }}</td>
                <td> {{ course.coursenumber }}</td>
                <td> {{course.level}}</td>
                <td>{{ course.credit}}</td>

            </tr>
            {%endfor%}
        </tbody>
    </table>
    {%endifequal%}
    <!--enroll -->
    <!-- Drop-->
    {%ifequal id "2"%}
    <h3>Current :</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Name</th>
                <th>Number</th>
                <th>Level</th>
                <th>Credit</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td name="cid"> {{ course.courseid }}</td>
                <td> {{ course.coursename }}</td>
                <td> {{ course.coursenumber }}</td>
                <td> {{course.level}}</td>
                <td>{{ course.credit}}</td>
                <td><button class="btn btn-danger"><a href="{%url 'students' id course.courseid %}" style="color:#fff;">Drop</a></button></td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
    {%endifequal%}
    <!--End drop-->
    <!--view score-->
    {%ifequal id "3"%}
    <h3>Scores: </h3>
    <table class="table">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Course Name</th>
                <th>Score</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td name="cid"> {{ course.courses_courseid__courseid}}</td>
                <td name="cid"> {{ course.courses_courseid__coursename}}</td>
                <td> {{ course.grade__score }}</td>
                <td> {{ course.grade__grade }}</td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
    {%endifequal%}
    <!-- end-->
    <!-- Enroll TA-->
    {%ifequal id "4" %}
    <h3>Available Courses :</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Name</th>
                <th>Number</th>
                <th>Level</th>
                <th>Credit</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for course in avl %}
            <tr>
                <td name="cid"> {{ course.courseid }}</td>
                <td> {{ course.coursename }}</td>
                <td> {{ course.coursenumber }}</td>
                <td> {{course.level}}</td>
                <td>{{ course.credit}}</td>
                <td><button class="btn btn-success"><a href="{%url 'students' id course.courseid %}" style="color:#fff;">Enroll</a></button></td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
    <hr />
    <h3>Current :</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Name</th>
                <th>Number</th>
                <th>Level</th>
                <th>Credit</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td name="cid"> {{ course.courseid }}</td>
                <td> {{ course.coursename }}</td>
                <td> {{ course.coursenumber }}</td>
                <td> {{course.level}}</td>
                <td>{{ course.credit}}</td>

            </tr>
            {%endfor%}
        </tbody>
    </table>
    {%endifequal%}
    <!--enroll -->
    {% ifequal id "6" %}
    <!--update details-->
    <h3> Details : </h3>
    <table class="table">
        <thead>
            <tr>
                <th>Student ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Contact</th>
            </tr>
        </thead>
        <tbody>
        <td>{{ request.session.userid }}</td>
        <td>{{ tfull.fname}}  {{tfull.lname}}</td>
        <td>{{tfull.email}}</td>
        <td>{{tfull.phone}}</td>
        </tbody>
    </table>
    <button class="btn btn-danger"><a id="editbtn" href="{% url 'students' id  request.session.userid  %}">Edit</a></button>
    <hr />
    {%endifequal%}
    {%ifequal id "editStudent" %}
    <h3> Details : </h3>
    <table class="table">
        <thead>
            <tr>
                <th>Student ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Contact</th>
            </tr>
        </thead>
        <tbody>
        <td>{{ request.session.userid }}</td>
        <td>{{ tfull.fname}}  {{tfull.lname}}</td>
        <td>{{tfull.email}}</td>
        <td>{{tfull.phone}}</td>
        </tbody>
    </table>
    <hr />
    <div class="edit">
        <div class="card card-signin col-md-6" style="margin:1% 20% ;border-radius: 0rem;box-shadow:none">
            <div class="card-body">
                <h5 class="card-title text-center">Edit Details</h5>
                <form class="form-signin" method="POST">
                    {% csrf_token %}
                    <div class="form-label-group">
                        <label for="inputEmail">Email</label>
                        <div class="form-control" id="in1">{{form.update_email}}</div>
                    </div>

                    <div class="form-label-group">
                        <label for="inputPassword">Contact</label>
                        <div class="form-control" id="in1">{{form.update_phone}}</div>
                    </div><br />
                    <button class="btn btn-lg btn-success btn-block text-uppercase" type="submit">Submit</button>
                </form>
            </div>
        </div>
    </div>
    {%endifequal%}

</div>
{% endblock content %}
